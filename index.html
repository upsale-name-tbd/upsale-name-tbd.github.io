<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Landing – Future of Finance</title>
    <style>
      /* Reset & allow page scroll */
      html,
      body {
        margin: 0;
        padding: 0;
      }

      /* HERO */
      #hero {
        position: relative;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        background: #fff;
      }
      #chart {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }
      #hero h1 {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        margin: 0;
        font-size: 4rem;
        color: rgba(0, 0, 0, 0.85);
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        z-index: 2;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
      }

      /* LOGIN BUTTON */
      .login-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        z-index: 3;
        text-decoration: none;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        font-size: 1rem;
        color: #131722;
        background-color: #f0f3fa;
        padding: 8px 16px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      .login-btn:hover {
        background-color: #e0e3eb;
      }
      .login-btn:active {
        background-color: #d1d4dc;
      }

      /* SCROLLABLE CONTENT */
      #content {
        padding: 60px 20px;
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.6;
        font-family: sans-serif;
      }
      #content h2 {
        margin-top: 0;
      }
    </style>
  </head>
  <body>
    <!-- HERO WITH LIVE CHART -->
    <div id="hero">
      <a href="https://entimox.com" class="login-btn">Log In</a>
      <div id="chart"></div>
      <h1>The future of finance</h1>
    </div>

    <!-- BELOW-HERO SCROLLABLE TEXT -->
    <section id="content">
      <h2>Our Vision</h2>
      <p>
        We believe in an exchange built for everyone—transparent, fair, and
        always on.
      </p>
      <h2>Features</h2>
      <ul>
        <li>24/7 market access with no forced expiries.</li>
        <li>Low fees—what you see is what you pay.</li>
        <li>Real‐time on‐chain settlement options.</li>
      </ul>
      <h2>Get Started</h2>
      <p>
        Sign up today to join our waitlist, explore demo trading, or dive into
        our API docs.
      </p>
    </section>

    <!-- CHART SCRIPT -->
    <script type="module">
      import {
        createChart,
        CandlestickSeries,
        CrosshairMode,
      } from "https://cdn.jsdelivr.net/npm/lightweight-charts@5.0.6/+esm";

      // 1) Initialize chart with NO axes & NO crosshair
      const container = document.getElementById("chart");
      const chart = createChart(container, {
        layout: {
          background: { type: "solid", color: "white" },
          textColor: "black",
        },
        rightPriceScale: { visible: false, borderVisible: false },
        leftPriceScale: { visible: false },
        timeScale: { visible: false, borderVisible: false, timeVisible: false },
        grid: { vertLines: { visible: false }, horzLines: { visible: false } },
        crosshair: {
          mode: CrosshairMode.Normal,
          vertLine: { visible: false },
          horzLine: { visible: false },
        },
        handleScale: {
          axisPressedMouseMove: false,
          mouseWheel: false,
          pinch: false,
        },
        handleScroll: {
          mouseWheel: false,
          pressedMouseMove: false,
          horzTouchDrag: false,
          vertTouchDrag: false,
        },
        width: container.clientWidth,
        height: container.clientHeight,
      });

      // 2) Add your candlestick series
      const series = chart.addSeries(CandlestickSeries, {
        upColor: "#26a69a",
        downColor: "#ef5350",
        borderVisible: false,
        wickUpColor: "#26a69a",
        wickDownColor: "#ef5350",
      });

      // 3) Data generator (unchanged)
      let randomFactor = 25 + Math.random() * 25;
      const samplePoint = (i) =>
        i *
          (0.5 +
            Math.sin(i / 1) * 0.2 +
            Math.sin(i / 2) * 0.4 +
            Math.sin(i / randomFactor) * 0.8 +
            Math.sin(i / 50) * 0.5) +
        200 +
        i * 2;

      function generateData(
        numberOfCandles = 2500,
        updatesPerCandle = 20,
        startAt = 1000
      ) {
        const createCandle = (val, time) => ({
          time,
          open: val,
          high: val,
          low: val,
          close: val,
        });
        const updateCandle = (candle, val) => ({
          time: candle.time,
          open: candle.open,
          high: Math.max(candle.high, val),
          low: Math.min(candle.low, val),
          close: val,
        });

        randomFactor = 25 + Math.random() * 25;
        const date = new Date();
        date.setUTCHours(0, 0, 0, 0);
        const total = numberOfCandles * updatesPerCandle;
        const initialData = [];
        const realtimeUpdates = [];
        let lastCandle,
          previousValue = samplePoint(-1);

        for (let i = 0; i < total; i++) {
          if (i % updatesPerCandle === 0)
            date.setUTCDate(date.getUTCDate() + 1);
          const time = date.getTime() / 1000;
          let value =
            previousValue + (samplePoint(i) - previousValue) * Math.random();
          previousValue = value;

          if (i % updatesPerCandle === 0) {
            lastCandle = createCandle(value, time);
            if (i >= startAt) realtimeUpdates.push(lastCandle);
          } else {
            lastCandle = updateCandle(lastCandle, value);
            if (i >= startAt) realtimeUpdates.push(lastCandle);
            else if ((i + 1) % updatesPerCandle === 0)
              initialData.push(lastCandle);
          }
        }
        return { initialData, realtimeUpdates };
      }

      // 4) Feed and fit
      const data = generateData();
      series.setData(data.initialData);
      chart.timeScale().fitContent();
      chart.timeScale().scrollToRealTime();

      // 5) (optional) live‐stream
      (function stream() {
        const gen = (function* () {
          yield* data.realtimeUpdates;
        })();
        const iv = setInterval(() => {
          const next = gen.next();
          if (next.done) return clearInterval(iv);
          series.update(next.value);
        }, 100);
      })();

      // 6) Handle resize
      window.addEventListener("resize", () => {
        chart.applyOptions({
          width: container.clientWidth,
          height: container.clientHeight,
        });
      });
    </script>
  </body>
</html>
