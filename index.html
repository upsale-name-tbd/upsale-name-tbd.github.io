<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>QFEx – Future of Finance</title>
    <!-- Poppins for everything -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Reset & globals */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        font-family: "Poppins", sans-serif;
      }

      /* HERO */
      #hero {
        position: relative;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        background: #fff;
      }
      #chart {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }
      #hero h1 {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: rgba(0, 0, 0, 0.85);
        font-size: 4rem;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        z-index: 2;
      }
      .top-links {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        gap: 12px;
        z-index: 3;
      }
      .top-links a {
        text-decoration: none;
        font-size: 1rem;
        color: #131722;
        background: #f0f3fa;
        padding: 8px 16px;
        border-radius: 8px;
        transition: background 0.2s;
      }
      .top-links a:hover {
        background: #e0e3eb;
      }
      .top-links a:active {
        background: #d1d4dc;
      }

      /* MAIN CONTENT - SECTION 1 */
      #content {
        max-width: 800px;
        margin: 0 auto;
        padding: 60px 20px;
        line-height: 1.6;
        border-bottom: 1px solid #ddd;
      }
      #content h2 {
        margin-bottom: 16px;
        font-weight: 500;
      }
      #content p,
      #content ul {
        margin-bottom: 24px;
        color: #333;
      }
      #content ul {
        list-style: disc inside;
      }

      /* JOIN SECTION - SECTION 2 */
      #join {
        background: rgb(242, 242, 242);
        padding: 60px 20px;
      }
      #join .section-inner {
        max-width: 800px;
        margin: 0 auto;
      }
      #join h2 {
        font-size: 2rem;
        margin-bottom: 24px;
      }

      /* DESKTOP TABS & CONTENT */
      #trader-wrapper {
        display: flex;
        gap: 0;
      }
      #trader-tabs {
        flex-shrink: 0;
        display: flex;
        flex-direction: column;
        border-right: 2px solid #000;
        min-width: 200px;
      }
      .tab {
        padding: 16px 24px;
        cursor: pointer;
        font-size: 1.25rem;
        font-weight: 400;
        color: rgba(0, 0, 0, 0.6);
        border-left: 4px solid transparent;
        transition: color 0.2s, border-color 0.2s;
      }
      .tab.active {
        color: rgba(0, 0, 0, 0.85);
        font-weight: 500;
        border-left-color: #000;
      }
      #trader-content {
        flex: 1;
        padding: 24px;
        background: #fafafb;
      }

      /* MOBILE ACCORDION */
      #trader-accordion {
        display: none;
      }
      .accordion-item {
        border-top: 1px solid #ccc;
      }
      .accordion-header {
        width: 100%;
        padding: 16px;
        font-size: 1.25rem;
        text-align: left;
        background: none;
        border: none;
        cursor: pointer;
        color: rgba(0, 0, 0, 0.6);
        transition: color 0.2s;
      }
      .accordion-header.active {
        color: rgba(0, 0, 0, 0.85);
        font-weight: 500;
      }
      .accordion-panel {
        display: none;
        padding: 0 16px 16px;
        background: #fafafb;
      }
      .accordion-item.active .accordion-panel {
        display: block;
      }

      /* SECTION 3: FUTURE ILLUSTRATION */
      #future {
        max-width: 1000px;
        margin: 0 auto;
        padding: 60px 20px;
        text-align: center;
      }
      #future h2 {
        font-size: 2rem;
        margin-bottom: 16px;
        font-weight: 500;
      }
      #future p {
        margin-bottom: 24px;
        color: #333;
      }
      .image-container img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
      }

      /* RESPONSIVE SWITCH */
      @media (max-width: 768px) {
        #trader-wrapper {
          display: none;
        }
        #trader-accordion {
          display: block;
        }
      }
    </style>
  </head>
  <body>
    <!-- HERO -->
    <div id="hero">
      <div class="top-links">
        <a href="https://status.qfex.com" target="_blank">Status</a>
        <a href="https://docs.qfex.com" target="_blank">Docs</a>
        <a href="https://app.qfex.com">Log In</a>
      </div>
      <div id="chart"></div>
      <h1>A Better Exchange</h1>
    </div>

    <!-- SECTION 1: your core copy -->
    <section id="content">
      <h2>QFEx — where exchanges finally work the way they should.</h2>
      <p>
        QFEx is designed for fairness, transparency, and accessibility,
        providing direct market access to everyone—retail traders and
        institutions alike. Our exchange operates 24/7, ensuring continuous
        trading for every listed symbol through perpetual futures contracts.
      </p>
      <h2>Experience a marketplace built for the future:</h2>
      <ul>
        <li>
          <strong>Direct Market Access</strong>: Trade directly without
          intermediaries, ensuring fair and transparent pricing.
        </li>
        <li>
          <strong>Continuous Trading</strong>: Enjoy uninterrupted access,
          trading whenever the market suits you—day or night.
        </li>
        <li>
          <strong>Fairness and Equality</strong>: Equal opportunities for retail
          investors and institutional traders, eliminating hidden advantages and
          fostering a truly equitable trading environment.
        </li>
      </ul>
      <p>
        At QFEx, we're setting new standards—delivering the exchange experience
        you've always deserved.
      </p>
      <p><em>A fairer market. A better market.</em></p>
    </section>

    <!-- SECTION 2: Join the future -->
    <section id="join">
      <div class="section-inner">
        <h2>Join the future of trading</h2>

        <!-- DESKTOP: tabs + panel -->
        <div id="trader-wrapper">
          <div id="trader-tabs">
            <div class="tab" data-tab="new">New traders</div>
            <div class="tab" data-tab="experienced">Experienced traders</div>
            <div class="tab" data-tab="institutional">
              Institutional traders
            </div>
          </div>
          <div id="trader-content"></div>
        </div>

        <!-- MOBILE: accordion -->
        <div id="trader-accordion">
          <div class="accordion-item active" data-acc="new">
            <button class="accordion-header active">New traders</button>
            <div class="accordion-panel">
              <h3>Easy On‑Ramp</h3>
              <p>
                Sign up in three minutes, deposit with any card, and start
                trading with $1.
              </p>
            </div>
          </div>
          <div class="accordion-item" data-acc="experienced">
            <button class="accordion-header">Experienced traders</button>
            <div class="accordion-panel">
              <h3>Advanced Tools</h3>
              <p>
                Access in‑depth charts, customizable indicators, and reduced
                fees for high‑volume trading.
              </p>
            </div>
          </div>
          <div class="accordion-item" data-acc="institutional">
            <button class="accordion-header">Institutional traders</button>
            <div class="accordion-panel">
              <h3>Institutional Grade</h3>
              <p>
                Aggregated liquidity, API access, and bespoke risk‑management
                tools for large desks.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 3: FUTURE ILLUSTRATION -->
    <section id="future">
      <h2>The future of futures</h2>
      <p>
        QFEx is the next evolution of markets, running an exchange the way it
        should be.
      </p>
      <div class="image-container">
        <img src="./perpetuals.png" alt="Perpetuals Illustration" />
      </div>
    </section>

    <footer
      style="
        text-align: center;
        padding: 20px;
        color: #666;
        font-size: 0.875rem;
      "
    >
      &copy; QFEx 2025
    </footer>
    <!-- CHART & INTERACTIONS -->
    <script type="module">
      import {
        createChart,
        CandlestickSeries,
        CrosshairMode,
      } from "https://cdn.jsdelivr.net/npm/lightweight-charts@5.0.6/+esm";

      // Chart setup (axes & hover off)
      const container = document.getElementById("chart");
      const chart = createChart(container, {
        layout: {
          background: { type: "solid", color: "white" },
          textColor: "black",
        },
        rightPriceScale: { visible: false, borderVisible: false },
        leftPriceScale: { visible: false },
        timeScale: { visible: false, borderVisible: false, timeVisible: false },
        grid: { vertLines: { visible: false }, horzLines: { visible: false } },
        crosshair: {
          mode: CrosshairMode.Normal,
          vertLine: { visible: false },
          horzLine: { visible: false },
        },
        handleScale: {
          axisPressedMouseMove: false,
          mouseWheel: false,
          pinch: false,
        },
        handleScroll: {
          mouseWheel: false,
          pressedMouseMove: false,
          horzTouchDrag: false,
          vertTouchDrag: false,
        },
        width: container.clientWidth,
        height: container.clientHeight,
      });
      const series = chart.addSeries(CandlestickSeries, {
        upColor: "#26a69a",
        downColor: "#ef5350",
        borderVisible: false,
        wickUpColor: "#26a69a",
        wickDownColor: "#ef5350",
      });

      // Original data generator & streaming
      let randomFactor = 25 + Math.random() * 25;
      const samplePoint = (i) =>
        i *
          (0.5 +
            Math.sin(i / 1) * 0.2 +
            Math.sin(i / 2) * 0.4 +
            Math.sin(i / randomFactor) * 0.8 +
            Math.sin(i / 50) * 0.5) +
        200 +
        i * 2;

      function generateData(n = 2500, u = 20, start = 1000) {
        const createCandle = (v, t) => ({
          time: t,
          open: v,
          high: v,
          low: v,
          close: v,
        });
        const updateCandle = (c, v) => ({
          time: c.time,
          open: c.open,
          high: Math.max(c.high, v),
          low: Math.min(c.low, v),
          close: v,
        });
        randomFactor = 25 + Math.random() * 25;
        const date = new Date();
        date.setUTCHours(0, 0, 0, 0);
        const total = n * u,
          init = [],
          live = [];
        let last,
          prev = samplePoint(-1);
        for (let i = 0; i < total; i++) {
          if (i % u === 0) date.setUTCDate(date.getUTCDate() + 1);
          const t = date.getTime() / 1000;
          const val = prev + (samplePoint(i) - prev) * Math.random();
          prev = val;
          if (i % u === 0) {
            last = createCandle(val, t);
            if (i >= start) live.push(last);
          } else {
            last = updateCandle(last, val);
            if (i >= start) live.push(last);
            else if ((i + 1) % u === 0) init.push(last);
          }
        }
        return { initialData: init, realtimeUpdates: live };
      }

      const data = generateData();
      series.setData(data.initialData);
      chart.timeScale().fitContent();
      chart.timeScale().scrollToRealTime();
      (() => {
        const it = data.realtimeUpdates[Symbol.iterator]();
        const iv = setInterval(() => {
          const n = it.next();
          if (n.done) return clearInterval(iv);
          series.update(n.value);
        }, 100);
      })();

      window.addEventListener("resize", () => {
        chart.applyOptions({
          width: container.clientWidth,
          height: container.clientHeight,
        });
      });

      // Tab logic
      const tabs = document.querySelectorAll("#trader-tabs .tab");
      const panel = document.getElementById("trader-content");
      const tabText = {
        new: "<h3>Easy On‑Ramp</h3><p>Sign up in three minutes…</p>",
        experienced: "<h3>Advanced Tools</h3><p>Access in‑depth charts…</p>",
        institutional:
          "<h3>Institutional Grade</h3><p>Aggregated liquidity…</p>",
      };
      function activateTab(k) {
        tabs.forEach((t) => t.classList.toggle("active", t.dataset.tab === k));
        panel.innerHTML = tabText[k];
      }
      activateTab("new");
      tabs.forEach((t) =>
        t.addEventListener("click", () => activateTab(t.dataset.tab))
      );

      // Accordion logic
      document.querySelectorAll(".accordion-item").forEach((item) => {
        item.querySelector(".accordion-header").onclick = () => {
          const open = item.classList.contains("active");
          document
            .querySelectorAll(".accordion-item")
            .forEach((i) => i.classList.remove("active"));
          if (!open) item.classList.add("active");
        };
      });
    </script>
  </body>
</html>
